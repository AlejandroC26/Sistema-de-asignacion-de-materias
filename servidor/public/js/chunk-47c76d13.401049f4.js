(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47c76d13"],{"31fc":function(t,a,s){"use strict";s("e8d5")},ccba:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",[a("Header"),a("div",{staticClass:"admin-container"},[a("section",{staticClass:"body-info-section"},[a("div",{staticClass:"content-section-info"},[a("Title",{attrs:{title:"Selección de asignaturas"}}),t.cargados?a("div",[a("table",{staticClass:"styled-table"},[a("thead",[a("tr",[a("td",{attrs:{colspan:"6"}},[a("center",[t._v("Tus asignaturas")])],1)]),t._m(3)]),a("tbody",t._l(t.mis_asignaturas,(function(s){return a("tr",{key:s.id},[a("td",[t._v(t._s(s.nombre_asignatura))]),a("td",[t._v(t._s(s.descripcion))]),a("td",[t._v(t._s(s.tipo))]),a("td",[t._v(t._s(s.creditos))]),a("td",[t._v(t._s(s.nombre_profesor))])])})),0)])]):a("div",[a("table",{staticClass:"styled-table"},[a("thead",[a("tr",[a("td",{attrs:{colspan:"6"}},[a("center",[t._v("Asignaturas registradas")])],1)]),t._m(0)]),a("tbody",[t._l(t.carrito,(function(s){return a("tr",{key:s.id},[a("td",[t._v(t._s(s.nombre))]),a("td",[t._v(t._s(s.descripcion))]),a("td",[t._v(t._s(s.area_nombre))]),a("td",[t._v(t._s(s.tipo))]),a("td",[t._v(t._s(s.creditos))]),a("td",[t._v(t._s(s.docente.nombre_profesor))])])})),t.carrito.length>0?a("tr",[t._m(1),a("td",[t._v(t._s(t.creditos))]),a("td",[a("button",{staticClass:"save-btn",on:{click:function(a){return t.asignarCursos()}}},[t._v("GUARDAR")])])]):a("tr",[a("td",{attrs:{colspan:"6"}},[a("center",[t._v("No hay materias registradas")])],1)])],2)]),a("div",{staticStyle:{display:"flex","justify-content":"center",position:"relative"}},[t.seleccion?a("div",{staticClass:"formulario-registro"},[a("p",{staticClass:"titulo"},[t._v("SELECCIONAR PROFESOR")]),a("button",{staticClass:"cross-btn",on:{click:function(a){t.seleccion=!1}}},[t._v("×")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.nombre,expression:"asignatura.nombre"}],attrs:{type:"text",disabled:""},domProps:{value:t.asignatura.nombre},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"nombre",a.target.value)}}})]),a("div",{staticClass:"col"},[a("p",[t._v("Tipo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.tipo,expression:"asignatura.tipo"}],attrs:{type:"text",disabled:""},domProps:{value:t.asignatura.tipo},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"tipo",a.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[t._v("Créditos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.creditos,expression:"asignatura.creditos"}],attrs:{type:"number",disabled:""},domProps:{value:t.asignatura.creditos},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"creditos",a.target.value)}}})]),a("div",{staticClass:"col"},[a("p",[t._v("Area")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.area_nombre,expression:"asignatura.area_nombre"}],attrs:{type:"text",disabled:""},domProps:{value:t.asignatura.area_nombre},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"area_nombre",a.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._m(2),t.asignatura.docentes.length>0?a("div",t._l(t.asignatura.docentes,(function(s){return a("div",{key:s.id,staticClass:"row",staticStyle:{padding:"0 1.2rem","margin-bottom":".5rem","border-bottom":"2px dashed #4a4a4a"}},[a("div",{staticClass:"col",staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(s.nombre_profesor))]),a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"flex-end"}},[a("button",{staticClass:"select-btn",on:{click:function(a){return t.agregarAsignatura(s)}}},[t._v("SELECCIONAR")])])])})),0):a("div",{staticStyle:{padding:".5rem 1rem"}},[t._v("No hay docentes registrados en esta asignatura")])])])]):t._e()]),a("div",{staticClass:"contenedor-asignaturas"},t._l(t.asignaturas,(function(s){return a("div",{key:s.id,staticClass:"asignatura-box"},[a("div",{staticClass:"cabecera"},[a("div",{staticClass:"nombre"},[t._v(t._s(s.nombre))]),a("div",{staticClass:"creditos"},[t._v(t._s(s.creditos)+" créditos")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v(" "+t._s(s.tipo)+" ")]),a("div",{staticClass:"col",staticStyle:{display:"flex","justify-content":"flex-end","margin-top":".5rem"}},[t._v(" "+t._s(s.area_nombre)+" ")])]),a("div",{staticClass:"descripcion"},[t._v(t._s(s.descripcion))]),a("div",{staticClass:"mostrar-mas",on:{click:()=>{t.cargarAsignatura(s),t.listarDocentes(s.id)}}},[t._v("MOSTRAR DOCENTES")])])})),0),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("div",{staticClass:"pagination"},t._l(t.links,(function(s){return a("a",{key:t.generateUUID(s),class:{active:s.active},attrs:{href:"#"},on:{click:function(a){return t.listarAsignaturas(s.url)}}},[a("span",{domProps:{innerHTML:t._s(s.label)}})])})),0)])])],1)])]),a("Footer")],1)},i=[function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("Nombre")]),a("td",[t._v("Descripción")]),a("td",[t._v("Area")]),a("td",[t._v("Tipo")]),a("td",[t._v("Créditos")]),a("td",[t._v("Docente")])])},function(){var t=this,a=t._self._c;return a("td",{staticStyle:{"text-align":"end"},attrs:{colspan:"4"}},[a("b",[t._v("Total")])])},function(){var t=this,a=t._self._c;return a("p",[a("b",[t._v("DOCENTES")])])},function(){var t=this,a=t._self._c;return a("tr",[a("td",[t._v("Nombre")]),a("td",[t._v("Descripción")]),a("td",[t._v("Tipo")]),a("td",[t._v("Créditos")]),a("td",[t._v("Docente")])])}],r=(s("14d9"),s("5407")),n=s("dc36"),o=s("5619"),c=s("2f62"),d=s("bc3a"),l=s.n(d),u={name:"Dashboard",components:{Header:r["a"],Footer:n["a"],Title:o["a"]},data:function(){return{seleccion:!1,cargados:!1,links:[],asignaturas:[],mis_asignaturas:[],creditos:0,carrito:[],asignatura:{id:"",nombre:"",descripcion:"",tipo:"electiva",creditos:"",area_nombre:"",docentes:[]}}},methods:{generateUUID(){var t=(new Date).getTime(),a="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(a){var s=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==a?s:3&s|8).toString(16)}));return a},launchAlert(t){t.timeout||(t.timeout=2500);const a=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:t.timeout});a.fire({icon:t.type,title:t.title,text:t.message})},listarAsignaturas(t){t||(t="/api/asignatura"),l.a.get(t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{this.links=t.links,this.asignaturas=t.data}).catch(t=>{console.log(t.response)})},listarAsignaturasEstudiante(t){l.a.get(`/api/estudiante/${t}/courses`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{t.length>0&&(this.cargados=!0),this.mis_asignaturas=t}).catch(t=>console.log(t.response))},listarDocentes(t){l.a.get(`/api/asignatura/${t}/profesor`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{this.asignatura.docentes=t}).catch(t=>console.log(t.response))},cargarAsignatura(t){this.seleccion=!0,this.asignatura.id=t.id,this.asignatura.nombre=t.nombre,this.asignatura.descripcion=t.descripcion,this.asignatura.tipo=t.tipo,this.asignatura.creditos=t.creditos,this.asignatura.area_nombre=t.area_nombre},agregarAsignatura(t){let a={id:this.asignatura.id,nombre:this.asignatura.nombre,descripcion:this.asignatura.descripcion,tipo:this.asignatura.tipo,creditos:this.asignatura.creditos,area_nombre:this.asignatura.area_nombre,docente:t};if(this.carrito.find(t=>t.id===a.id))return this.launchAlert({type:"warning",title:"¡No se puede repetir asignatura!"});let s=0;this.carrito.push(a),this.carrito.forEach(t=>s+=t.creditos),this.seleccion=!1,this.creditos=s},asignarCursos(){if(this.creditos<7)return this.launchAlert({type:"warning",title:"¡Registra mínimo 7 créditos!"});let t={id_estudiante:this.sessionUser.permisos.estudiante,asignaturas:[]};this.carrito.forEach(a=>{t.asignaturas.push(a.docente.id_ap)}),l.a.post("/api/estudiante/course/assign",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(()=>(this.carrito=[],this.cargados=!0,this.listarAsignaturasEstudiante(this.sessionUser.permisos.estudiante),this.launchAlert({type:"success",title:"¡Cursos asignados exitosamente!"}))).catch(t=>console.log(t))}},computed:{...Object(c["d"])(["sessionUser"])},mounted(){this.listarAsignaturas(),this.listarAsignaturasEstudiante(this.sessionUser.permisos.estudiante)}},g=u,v=(s("31fc"),s("0c7c")),p=Object(v["a"])(g,e,i,!1,null,"fee0fc6c",null);a["default"]=p.exports},e8d5:function(t,a,s){}}]);
//# sourceMappingURL=chunk-47c76d13.401049f4.js.map