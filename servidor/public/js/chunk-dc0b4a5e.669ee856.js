(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc0b4a5e"],{"28f7":function(t,s,e){"use strict";e("6f24")},"64c4":function(t,s,e){},"6f24":function(t,s,e){},"8c05":function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"form-input"},[s("label",[t._v(t._s(t.sLabel))]),s("div",{staticClass:"container-input",staticStyle:{display:"flex",gap:"1rem"}},["checkbox"===(t.show?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],attrs:{size:"40",maxlength:"50",type:"checkbox"},domProps:{checked:Array.isArray(t.valor)?t._i(t.valor,null)>-1:t.valor},on:{change:function(s){var e=t.valor,a=s.target,o=!!a.checked;if(Array.isArray(e)){var i=null,r=t._i(e,i);a.checked?r<0&&(t.valor=e.concat([i])):r>-1&&(t.valor=e.slice(0,r).concat(e.slice(r+1)))}else t.valor=o}}}):"radio"===(t.show?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],attrs:{size:"40",maxlength:"50",type:"radio"},domProps:{checked:t._q(t.valor,null)},on:{change:function(s){t.valor=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],attrs:{size:"40",maxlength:"50",type:t.show?"text":"password"},domProps:{value:t.valor},on:{input:function(s){s.target.composing||(t.valor=s.target.value)}}}),s("div",{staticClass:"show-input",on:{click:function(s){return t.onShowPassword()}}},[s("span",{class:t.show?"icon-view-hide":"icon-view-show"})])])])},o=[],i={name:"FormPassword",props:{value:{},sLabel:{type:String,default:""}},data(){return{valor:"",show:!1}},methods:{onShowPassword(){this.show=!this.show}},watch:{valor(t){this.$emit("updateValor",t)},value(t){this.value=t}},mounted(){this.valor=this.value}},r=i,n=(e("e49f"),e("0c7c")),l=Object(n["a"])(r,a,o,!1,null,"5ab54eac",null);s["a"]=l.exports},c66d:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",[s("Header"),s("div",{staticClass:"admin-container"},[s("section",{staticClass:"body-info-section"},[s("div",{staticClass:"content-section-info"},[s("Title",{attrs:{title:"Perfíl de Usuario"}}),s("div",{staticClass:"border-box",staticStyle:{padding:"0"}},[t._m(0),s("div",{staticClass:"row-info-box cursor-none"},[s("div",{staticClass:"first-column"},[t._v("NOMBRE")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.nombres))])]),s("div",{staticClass:"row-info-box cursor-none"},[s("div",{staticClass:"first-column"},[t._v("DOCUMENTO")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.documento))])]),s("div",{staticClass:"row-info-box cursor-none"},[s("div",{staticClass:"first-column"},[t._v("TELÉFONO")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.telefono))])]),s("div",{staticClass:"row-info-box cursor-none"},[s("div",{staticClass:"first-column"},[t._v("DIRECCIÓN")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.direccion))])]),s("div",{staticClass:"row-info-box cursor-none"},[s("div",{staticClass:"first-column"},[t._v("CIUDAD")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.ciudad))])])]),s("div",{staticClass:"border-box",staticStyle:{padding:"0","margin-top":"1rem"}},[t._m(1),s("div",{staticClass:"row-info-box"},[s("div",{staticClass:"first-column"},[t._v("CORREO")]),s("div",{staticClass:"last-column"},[t._v(t._s(t.sessionUser.email))])]),s("div",{staticClass:"row-info-box"},[s("div",{staticClass:"first-column",staticStyle:{width:"15rem"}},[t._v("CONTRASEÑA")]),s("div",{staticClass:"last-column"},[t._v("************")]),s("div",{staticClass:"password-column"},[s("button",{staticClass:"btn-change-password",on:{click:function(s){t.bFormPassword=!0}}},[t._v("CAMBIAR CONTRASEÑA")])])])]),s("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"0.5rem"}},[s("button",{staticClass:"btn-udate",on:{click:()=>{t.bFormPerfil=!0,t.oGetProfile()}}},[t._v("EDITAR PERFÍL")])])],1)])]),t.bFormPassword?s("div",{staticStyle:{display:"flex","justify-content":"center",position:"fixed",top:"10rem","z-index":"100",width:"100%"}},[s("div",{staticClass:"formulario-registro"},[s("p",{staticClass:"titulo"},[t._v("Actualización de contraseña")]),s("button",{staticClass:"cross-btn",on:{click:()=>{t.bFormPassword=!1}}},[t._v(" × ")]),s("div",{staticClass:"row"},[s("FormPassword",{attrs:{sLabel:"Contraseña Actual",value:t.sCurrentPassword},on:{updateValor:function(s){return t.onSetCurrentPassword(s)}}})],1),s("div",{staticClass:"row"},[s("FormPassword",{attrs:{sLabel:"Nueva Contraseña",value:t.sNewPassword},on:{updateValor:function(s){return t.onSetNewPassword(s)}}}),s("FormPassword",{attrs:{sLabel:"Confirmar Contraseña",value:t.sConfirmNewPassword},on:{updateValor:function(s){return t.onSetConfirmNewPassword(s)}}})],1),s("div",{staticClass:"btn-actions"},[s("button",{on:{click:()=>{t.bFormPassword=!1}}},[t._v(" Cancelar ")]),s("button",{on:{click:function(s){return t.onActualizarContrasena(t.sessionUser.id)}}},[t._v("Guardar")])])])]):t._e(),t.bFormPerfil?s("div",{staticStyle:{display:"flex","justify-content":"center",position:"fixed",top:"10rem","z-index":"100",width:"100%"}},[s("div",{staticClass:"formulario-registro"},[s("p",{staticClass:"titulo"},[t._v("Actualización de Perfíl")]),s("button",{staticClass:"cross-btn",on:{click:()=>{t.bFormPerfil=!1}}},[t._v(" × ")]),s("div",{staticClass:"row"},[s("FormNumber",{attrs:{sLabel:"Documento",value:t.nDocumento},on:{updateValor:function(s){return t.onSetDocumento(s)}}}),s("FormText",{attrs:{sLabel:"Nombres",value:t.sNombres},on:{updateValor:function(s){return t.onSetNombres(s)}}}),s("FormNumber",{attrs:{sLabel:"Teléfono",value:t.nTelefono},on:{updateValor:function(s){return t.onSetTelefono(s)}}})],1),s("div",{staticClass:"row"},[s("FormText",{attrs:{sLabel:"Dirección",value:t.sDireccion},on:{updateValor:function(s){return t.onSetDireccion(s)}}}),s("FormText",{attrs:{sLabel:"Ciudad",value:t.sCiudad},on:{updateValor:function(s){return t.onSetCiudad(s)}}})],1),s("div",{staticClass:"row"},[s("FormText",{attrs:{sLabel:"Email",value:t.sEmail},on:{updateValor:function(s){return t.onSetEmail(s)}}})],1),s("div",{staticClass:"btn-actions"},[s("button",{on:{click:()=>{t.bFormPerfil=!1}}},[t._v(" Cancelar ")]),s("button",{on:{click:function(s){return t.oActualizarPerfil()}}},[t._v("Guardar")])])])]):t._e(),s("Footer")],1)},o=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"title-info-row"},[s("h2",[t._v("Información Personal")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"title-info-row"},[s("h2",[t._v("Información de acceso")])])}],i=e("bc3a"),r=e.n(i),n=e("5407"),l=e("dc36"),c=e("5619"),u=e("cca9"),d=e("cd99"),m=e("8c05"),v=e("2f62"),f={name:"Profile",components:{Header:n["a"],Footer:l["a"],Title:c["a"],FormText:u["a"],FormNumber:d["a"],FormPassword:m["a"]},data:function(){return{nId:"",nDocumento:"",sNombres:"",nTelefono:"",sEmail:"",sDireccion:"",sCiudad:"",sNewPassword:"",sCurrentPassword:"",sConfirmNewPassword:"",bFormPerfil:!1,bFormPassword:!1}},methods:{onSetNombres(t){this.sNombres=t},onSetDocumento(t){this.nDocumento=t},onSetTelefono(t){this.nTelefono=t},onSetDireccion(t){this.sDireccion=t},onSetCiudad(t){this.sCiudad=t},onSetEmail(t){this.sEmail=t},onSetCurrentPassword(t){this.sCurrentPassword=t},onSetNewPassword(t){this.sNewPassword=t},onSetConfirmNewPassword(t){this.sConfirmNewPassword=t},oGetProfile(){r.a.get("http://127.0.0.1:8000/api/auth/me",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{this.nId=t.data.id,this.nDocumento=t.data.documento,this.sNombres=t.data.nombres,this.nTelefono=t.data.telefono,this.sEmail=t.data.email,this.sDireccion=t.data.direccion,this.sCiudad=t.data.ciudad}).catch(t=>{console.log(t)})},onActualizarContrasena(t){let s={cur_password:this.sCurrentPassword,new_password:this.sNewPassword,confirm_password:this.sConfirmNewPassword};if(!s.cur_password.trim()||!s.new_password)return this.launchAlert({type:"error",message:"Rellena todos los campos"});r.a.post("http://127.0.0.1:8000/api/user/change-password/"+t,s,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(()=>(this.bFormPassword=!1,this.sNewPassword="",this.sNewPassword="",this.sCurrentPassword="",this.launchAlert({type:"success",title:"¡Contraseña actualizada exitosamente!"}))).catch(t=>{this.launchAlert({type:"error",title:t.response.data.message})})},oActualizarPerfil(){let t={id:this.nId,documento:this.nDocumento,nombres:this.sNombres,telefono:this.nTelefono,email:this.sEmail,direccion:this.sDireccion,ciudad:this.sCiudad};if(!this.isValidEmail(t.email))return this.launchAlert({type:"warning",title:"¡El correo no es válido!"});r.a.post("http://127.0.0.1:8000/api/user/update/"+t.id,t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(()=>(this.bFormPerfil=!1,this.loadSessionUser({force:!0}),this.launchAlert({type:"success",title:"¡Perfíl actualizado exitosamente!"}))).catch(t=>{this.launchAlert({type:"error",title:t.response.data.message})})},launchAlert(t){t.timeout||(t.timeout=2500);const s=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:t.timeout});s.fire({icon:t.type,title:t.title,text:t.message})},isValidEmail(t){let s=/^(?:[^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*|"[^\n"]+")@(?:[^<>()[\].,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,63}$/i;return!!s.test(t)},...Object(v["c"])(["loadSessionUser"])},computed:{...Object(v["d"])(["sessionUser"])},mounted(){}},h=f,p=(e("28f7"),e("0c7c")),w=Object(p["a"])(h,a,o,!1,null,"4dbe0f75",null);s["default"]=w.exports},cca9:function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"form-input"},[s("label",[t._v(t._s(t.sLabel))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],attrs:{type:"text",size:"40",maxlength:"50"},domProps:{value:t.valor},on:{input:function(s){s.target.composing||(t.valor=s.target.value)}}}),s("div",{staticClass:"underline"})])},o=[],i={name:"FormText",props:{value:{},sLabel:{type:String,default:""}},data(){return{valor:""}},watch:{valor(t){this.$emit("updateValor",t)},value(t){this.valor=t}},mounted(){this.valor=this.value}},r=i,n=e("0c7c"),l=Object(n["a"])(r,a,o,!1,null,null,null);s["a"]=l.exports},cd99:function(t,s,e){"use strict";var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"form-input"},[s("label",[t._v(t._s(t.sLabel))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],attrs:{type:"number",size:"40",maxlength:"50"},domProps:{value:t.valor},on:{input:function(s){s.target.composing||(t.valor=s.target.value)}}}),s("div",{staticClass:"underline"})])},o=[],i={name:"FormNumber",props:{value:{},sLabel:{type:String,default:""}},data(){return{valor:""}},watch:{valor(t){this.$emit("updateValor",t)},value(t){this.valor=t}},mounted(){this.valor=this.value}},r=i,n=e("0c7c"),l=Object(n["a"])(r,a,o,!1,null,null,null);s["a"]=l.exports},e49f:function(t,s,e){"use strict";e("64c4")}}]);
//# sourceMappingURL=chunk-dc0b4a5e.669ee856.js.map