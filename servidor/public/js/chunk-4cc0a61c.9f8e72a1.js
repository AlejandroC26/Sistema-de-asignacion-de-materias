(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cc0a61c"],{aa4e:function(t,a,i){"use strict";i("f4c8")},ec6a:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t._self._c;return a("div",[a("Header"),a("div",{staticClass:"admin-container"},[a("section",{staticClass:"body-info-section"},[a("div",{staticClass:"content-section-info"},[a("Title",{attrs:{title:"Asignaturas"}}),a("div",{staticClass:"btn-confirm primary",staticStyle:{display:"flex","justify-content":"flex-end"}},[t.register||t.update?t._e():a("button",{on:{click:()=>{t.register=!0,t.limpiarFormulario()}}},[t._v("Nuevo registro")])]),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[t.register||t.update?a("div",{staticClass:"formulario-registro"},[!1===t.update?a("p",{staticClass:"titulo"},[t._v("Registro de asignatura")]):a("p",{staticClass:"titulo"},[t._v("Actualizar asignatura")]),a("button",{staticClass:"cross-btn",on:{click:()=>{t.register=!1,t.limpiarFormulario()}}},[t._v("×")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.nombre,expression:"asignatura.nombre"}],attrs:{type:"text"},domProps:{value:t.asignatura.nombre},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"nombre",a.target.value)}}})]),a("div",{staticClass:"col"},[a("p",[t._v("Tipo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.tipo,expression:"asignatura.tipo"}],on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.asignatura,"tipo",a.target.multiple?i:i[0])}}},[a("option",{attrs:{value:"electiva"}},[t._v("Electiva")]),a("option",{attrs:{value:"obligatoria"}},[t._v("Obligatoria")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[t._v("Créditos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.creditos,expression:"asignatura.creditos"}],attrs:{type:"number"},domProps:{value:t.asignatura.creditos},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"creditos",a.target.value)}}})]),a("div",{staticClass:"col"},[a("p",[t._v("Area")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.id_area,expression:"asignatura.id_area"}],on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.asignatura,"id_area",a.target.multiple?i:i[0])}}},t._l(t.areas,(function(i){return a("option",{key:i.id,domProps:{value:i.id}},[t._v(t._s(i.nombre))])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.asignatura.descripcion,expression:"asignatura.descripcion"}],attrs:{cols:"30",rows:"10"},domProps:{value:t.asignatura.descripcion},on:{input:function(a){a.target.composing||t.$set(t.asignatura,"descripcion",a.target.value)}}})])]),!1===t.update?a("div",{staticClass:"btn-confirm"},[a("button",{on:{click:function(a){return t.registrarAsignatura(t.asignatura)}}},[t._v(" Registrar ")])]):a("div",{staticClass:"btn-confirm"},[a("button",{on:{click:function(a){return t.actualizarAsignatura(t.asignatura)}}},[t._v(" Guardar ")])])]):t._e()]),a("table",{staticClass:"styled-table"},[t._m(0),a("tbody",t._l(t.asignaturas,(function(i){return a("tr",{key:i.id},[a("td",[t._v(t._s(i.nombre))]),a("td",[t._v(t._s(i.descripcion))]),a("td",[t._v(t._s(i.creditos))]),a("td",[t._v(t._s(i.area_nombre))]),a("td",[t._v(t._s(i.tipo))]),a("td",[a("span",{staticClass:"link",on:{click:function(a){return t.cargarAsignatura(i)}}},[t._v("Editar")])])])})),0)]),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("div",{staticClass:"pagination"},t._l(t.links,(function(i){return a("a",{key:t.generateUUID(i),class:{active:i.active},attrs:{href:"#"},on:{click:function(a){return t.listarAsignaturas(i.url)}}},[a("span",{domProps:{innerHTML:t._s(i.label)}})])})),0)])],1)])]),a("Footer")],1)},s=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("td",[t._v("Nombre")]),a("td",[t._v("Descripción")]),a("td",[t._v("Créditos")]),a("td",[t._v("Area")]),a("td",[t._v("Tipo")]),a("td",[t._v("Acción")])])])}],r=i("5407"),n=i("dc36"),o=i("5619"),c=i("2f62"),l=i("bc3a"),u=i.n(l),d={name:"Dashboard",components:{Header:r["a"],Footer:n["a"],Title:o["a"]},data:function(){return{register:!1,update:!1,areas:[],links:[],asignaturas:[],asignatura:{id:"",nombre:"",descripcion:"",tipo:"electiva",creditos:"",id_area:""}}},methods:{isValidText(t){var a=new RegExp("^[a-zA-ZÀ-ÿ ]+$"),i=t;return!!a.test(i)},isValidEmail(t){let a=/^(?:[^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*|"[^\n"]+")@(?:[^<>()[\].,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,63}$/i;return!!a.test(t)},generateUUID(){var t=(new Date).getTime(),a="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(a){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==a?i:3&i|8).toString(16)}));return a},launchAlert(t){t.timeout||(t.timeout=2500);const a=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:t.timeout});a.fire({icon:t.type,title:t.title,text:t.message})},listarAsignaturas(t){t||(t="/api/asignatura"),u.a.get(t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{this.links=t.links,this.asignaturas=t.data}).catch(t=>{console.log(t.response)})},listarAreas(){u.a.get("/api/asignatura/areas",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(({data:t})=>{this.areas=t}).catch(t=>console.log(t.response))},cargarAsignatura(t){this.update=!0,this.register=!1,this.asignatura.id=t.id,this.asignatura.nombre=t.nombre,this.asignatura.descripcion=t.descripcion,this.asignatura.tipo=t.tipo,this.asignatura.creditos=t.creditos,this.asignatura.id_area=t.id_area},limpiarFormulario(){this.update=!1,this.asignatura.id="",this.asignatura.nombre="",this.asignatura.descripcion="",this.asignatura.tipo="electiva",this.asignatura.creditos="",this.asignatura.id_area=this.areas[0].id},async registrarAsignatura(t){try{u.a.post("/api/asignatura/register",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(()=>(this.register=!1,this.limpiarFormulario(),this.listarAsignaturas(),this.launchAlert({type:"success",title:"¡Asignatura registrada!"}))).catch(t=>{console.log(t.response)})}catch(a){console.log(a.response)}},async actualizarAsignatura(t){try{return await u.a.post("/api/asignatura/update/"+t.id,t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),this.listarAsignaturas(),this.limpiarFormulario(),this.launchAlert({type:"success",title:"¡Asignatura actualizada!"})}catch(a){console.log(a.response)}}},computed:{...Object(c["d"])(["sessionUser"])},mounted(){this.listarAsignaturas(),this.listarAreas()}},g=d,p=(i("aa4e"),i("0c7c")),v=Object(p["a"])(g,e,s,!1,null,"42ed4c9f",null);a["default"]=v.exports},f4c8:function(t,a,i){}}]);
//# sourceMappingURL=chunk-4cc0a61c.9f8e72a1.js.map